\documentclass[12pt,a4paper]{article}
\usepackage[table]{xcolor}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{longtable}
\usepackage{pdflscape}
\usepackage{graphicx}
\usepackage{geometry}
\geometry{margin=1in}

\begin{document}
\begin{titlepage}
    \centering
    \vspace*{3cm}
    {\Huge \textbf{Instituto Tecnológico de Costa Rica}} \\[2cm]
    {\Large \textbf{Operations Research - Semester II}} \\[2cm]
    {\LARGE \textbf{Knapsack Problem}} \\[3cm]
    {\Large Members:} \\[0.5cm]
    {\large Adrián Zamora Chavarría \\ Daniel Romero Murillo} \\[2cm]
    {\large Date: \today}
    \vfill
\end{titlepage}
\newpage
\section*{The Knapsack Problem}
The \textbf{Knapsack Problem} is a classic optimization problem in computer science and operations research. It consists of having a set of items, each with a weight and a value. We also have a knapsack with limited capacity. The goal is to select a subset of items so that the total weight does not exceed the capacity of the knapsack, while the total value gained is maximized.
\[
\max(Z) = \sum x_i v_i  \
\]
\[\text{subject to} \quad \sum x_i c_i \leq C
\]
\begin{itemize}
\item Z: gained value (we want to maximize it)
\item C: knapsack capacity
\item $v_i$: value of item i
\item $c_i$: cost of item i
\item $x_i$: amount of item i taken
\end{itemize}
\subsection*{0/1 Knapsack Problem}
In the \textbf{0/1 Knapsack Problem}, items exist only once. We can either take it or leave it. We cannot take multiple of the same item.
\subsection*{Bounded Knapsack Problem}
In the \textbf{Bounded Knapsack Problem}, we can take multiple copies of each item. The items are limited and we have to choose how many to take of each.
\subsection*{Unbounded Knapsack Problem}
In the \textbf{Unbounded Knapsack Problem}, there are infinite copies of each item. We can take as much as we please of any item.
\subsection*{Knapsack algorithm}
\begin{itemize}
\item We have $k_i$ copies of item i
\item We can include up to Q copies of item i
\end{itemize}
\[
Q = \min(k_j, \left\lfloor \frac{i}{c_j} \right\rfloor)
\]
\newpage
\begin{itemize}
\item Now we fill up a $C \times k_i$ sized table like this:
\end{itemize}
\begin{align*}
\text{Table}[i][j] = \max \Big(&
\text{Table}[i][j-1], \\
&1 \cdot v_i + \text{Table}[i-1 \cdot c_i][j-1], \\
&2 \cdot v_i + \text{Table}[i-2 \cdot c_i][j-1], \\
&\dots, \\
&Q \cdot v_i + \text{Table}[i-Q \cdot c_i][j-1]
\Big)
\end{align*}
\begin{itemize}
\item In each cell we save the maximum possible value, and the amount of the item we should take to get it.
\end{itemize}
\newpage
\section*{Problem}
\begin{large}
\noindent
\textbf{Maximize} \\
\hspace*{1cm}$Z = 4x_1 + 2x_2 + 3x_3 + 6x_4 + 10x_5 + 7x_6 + 4x_7 + 5x_8 + 4x_9 + 2x_10 + 3x_11 $ \\[1em]
\noindent
\textbf{Subject to} \\
\hspace*{1cm}$2x_1 + x_2 + 2x_3 + 4x_4 + 8x_5 + 4x_6 + 2x_7 + 3x_8 + x_9 + x_10 + x_11 \leq 20$\\
\hspace*{1cm}$0 \leq x_1 \leq 5$\\
\hspace*{1cm}$0 \leq x_2 \leq 10$\\
\hspace*{1cm}$0 \leq x_3 \leq 3$\\
\hspace*{1cm}$0 \leq x_4 \leq 1$\\
\hspace*{1cm}$0 \leq x_5 \leq 1$\\
\hspace*{1cm}$0 \leq x_6 \leq 2$\\
\hspace*{1cm}$0 \leq x_7 \leq 5$\\
\hspace*{1cm}$0 \leq x_8 \leq 18$\\
\hspace*{1cm}$0 \leq x_9 \leq 2$\\
\hspace*{1cm}$0 \leq x_10 \leq 5$\\
\hspace*{1cm}$0 \leq x_11 \leq 3$\\
\end{large}
\newpage
\section*{Table}
\begin{longtable}{|c|c|c|c|c|c|}
\hline
&Agua&Medias&Gallet&Repele&Bear\\
\hline
0 & \cellcolor{red!30} 0/$x_0=0$ & \cellcolor{red!30} 0/$x_1=0$ & \cellcolor{red!30} 0/$x_2=0$ & \cellcolor{red!30} 0/$x_3=0$ & \cellcolor{red!30} 0/$x_4=0$ \\
1 & \cellcolor{red!30} 0/$x_0=0$ & \cellcolor{green!30} 2/$x_1=1$ & \cellcolor{red!30} 2/$x_2=0$ & \cellcolor{red!30} 2/$x_3=0$ & \cellcolor{red!30} 2/$x_4=0$ \\
2 & \cellcolor{green!30} 4/$x_0=1$ & \cellcolor{orange!30} 4/$x_1=2-0$ & \cellcolor{red!30} 4/$x_2=0$ & \cellcolor{red!30} 4/$x_3=0$ & \cellcolor{red!30} 4/$x_4=0$ \\
3 & \cellcolor{green!30} 4/$x_0=1$ & \cellcolor{green!30} 6/$x_1=3$ & \cellcolor{red!30} 6/$x_2=0$ & \cellcolor{red!30} 6/$x_3=0$ & \cellcolor{red!30} 6/$x_4=0$ \\
4 & \cellcolor{green!30} 8/$x_0=2$ & \cellcolor{orange!30} 8/$x_1=4-0$ & \cellcolor{red!30} 8/$x_2=0$ & \cellcolor{red!30} 8/$x_3=0$ & \cellcolor{red!30} 8/$x_4=0$ \\
5 & \cellcolor{green!30} 8/$x_0=2$ & \cellcolor{green!30} 10/$x_1=5$ & \cellcolor{red!30} 10/$x_2=0$ & \cellcolor{red!30} 10/$x_3=0$ & \cellcolor{red!30} 10/$x_4=0$ \\
6 & \cellcolor{green!30} 12/$x_0=3$ & \cellcolor{orange!30} 12/$x_1=6-0$ & \cellcolor{red!30} 12/$x_2=0$ & \cellcolor{red!30} 12/$x_3=0$ & \cellcolor{red!30} 12/$x_4=0$ \\
7 & \cellcolor{green!30} 12/$x_0=3$ & \cellcolor{green!30} 14/$x_1=7$ & \cellcolor{red!30} 14/$x_2=0$ & \cellcolor{red!30} 14/$x_3=0$ & \cellcolor{red!30} 14/$x_4=0$ \\
8 & \cellcolor{green!30} 16/$x_0=4$ & \cellcolor{orange!30} 16/$x_1=8-0$ & \cellcolor{red!30} 16/$x_2=0$ & \cellcolor{red!30} 16/$x_3=0$ & \cellcolor{red!30} 16/$x_4=0$ \\
9 & \cellcolor{green!30} 16/$x_0=4$ & \cellcolor{green!30} 18/$x_1=9$ & \cellcolor{red!30} 18/$x_2=0$ & \cellcolor{red!30} 18/$x_3=0$ & \cellcolor{red!30} 18/$x_4=0$ \\
10 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{orange!30} 20/$x_1=10-0$ & \cellcolor{red!30} 20/$x_2=0$ & \cellcolor{red!30} 20/$x_3=0$ & \cellcolor{red!30} 20/$x_4=0$ \\
11 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{green!30} 22/$x_1=9$ & \cellcolor{red!30} 22/$x_2=0$ & \cellcolor{red!30} 22/$x_3=0$ & \cellcolor{red!30} 22/$x_4=0$ \\
12 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{green!30} 24/$x_1=10$ & \cellcolor{red!30} 24/$x_2=0$ & \cellcolor{red!30} 24/$x_3=0$ & \cellcolor{red!30} 24/$x_4=0$ \\
13 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{green!30} 26/$x_1=9$ & \cellcolor{red!30} 26/$x_2=0$ & \cellcolor{red!30} 26/$x_3=0$ & \cellcolor{red!30} 26/$x_4=0$ \\
14 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{green!30} 28/$x_1=10$ & \cellcolor{red!30} 28/$x_2=0$ & \cellcolor{red!30} 28/$x_3=0$ & \cellcolor{red!30} 28/$x_4=0$ \\
15 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{green!30} 30/$x_1=9$ & \cellcolor{red!30} 30/$x_2=0$ & \cellcolor{red!30} 30/$x_3=0$ & \cellcolor{red!30} 30/$x_4=0$ \\
16 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{green!30} 32/$x_1=10$ & \cellcolor{red!30} 32/$x_2=0$ & \cellcolor{red!30} 32/$x_3=0$ & \cellcolor{red!30} 32/$x_4=0$ \\
17 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{green!30} 34/$x_1=9$ & \cellcolor{red!30} 34/$x_2=0$ & \cellcolor{red!30} 34/$x_3=0$ & \cellcolor{red!30} 34/$x_4=0$ \\
18 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{green!30} 36/$x_1=10$ & \cellcolor{red!30} 36/$x_2=0$ & \cellcolor{red!30} 36/$x_3=0$ & \cellcolor{red!30} 36/$x_4=0$ \\
19 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{green!30} 38/$x_1=9$ & \cellcolor{red!30} 38/$x_2=0$ & \cellcolor{red!30} 38/$x_3=0$ & \cellcolor{red!30} 38/$x_4=0$ \\
20 & \cellcolor{green!30} 20/$x_0=5$ & \cellcolor{green!30} 40/$x_1=10$ & \cellcolor{red!30} 40/$x_2=0$ & \cellcolor{red!30} 40/$x_3=0$ & \cellcolor{red!30} 40/$x_4=0$ \\
\hline
\end{longtable}
\newpage
\section*{Table}
\begin{longtable}{|c|c|c|c|c|c|}
\hline
&Sogas&Tronad&Birra&Mota&Bolsas\\
\hline
0 & \cellcolor{red!30} 0/$x_5=0$ & \cellcolor{red!30} 0/$x_6=0$ & \cellcolor{red!30} 0/$x_7=0$ & \cellcolor{red!30} 0/$x_8=0$ & \cellcolor{red!30} 0/$x_9=0$ \\
1 & \cellcolor{red!30} 2/$x_5=0$ & \cellcolor{red!30} 2/$x_6=0$ & \cellcolor{red!30} 2/$x_7=0$ & \cellcolor{green!30} 4/$x_8=1$ & \cellcolor{red!30} 4/$x_9=0$ \\
2 & \cellcolor{red!30} 4/$x_5=0$ & \cellcolor{orange!30} 4/$x_6=1-0$ & \cellcolor{red!30} 4/$x_7=0$ & \cellcolor{green!30} 8/$x_8=2$ & \cellcolor{red!30} 8/$x_9=0$ \\
3 & \cellcolor{red!30} 6/$x_5=0$ & \cellcolor{orange!30} 6/$x_6=1-0$ & \cellcolor{red!30} 6/$x_7=0$ & \cellcolor{green!30} 10/$x_8=2$ & \cellcolor{orange!30} 10/$x_9=1-0$ \\
4 & \cellcolor{red!30} 8/$x_5=0$ & \cellcolor{orange!30} 8/$x_6=2-0$ & \cellcolor{red!30} 8/$x_7=0$ & \cellcolor{green!30} 12/$x_8=2$ & \cellcolor{orange!30} 12/$x_9=2-0$ \\
5 & \cellcolor{red!30} 10/$x_5=0$ & \cellcolor{orange!30} 10/$x_6=2-0$ & \cellcolor{red!30} 10/$x_7=0$ & \cellcolor{green!30} 14/$x_8=2$ & \cellcolor{orange!30} 14/$x_9=3-0$ \\
6 & \cellcolor{red!30} 12/$x_5=0$ & \cellcolor{orange!30} 12/$x_6=3-0$ & \cellcolor{red!30} 12/$x_7=0$ & \cellcolor{green!30} 16/$x_8=2$ & \cellcolor{orange!30} 16/$x_9=4-0$ \\
7 & \cellcolor{red!30} 14/$x_5=0$ & \cellcolor{orange!30} 14/$x_6=3-0$ & \cellcolor{red!30} 14/$x_7=0$ & \cellcolor{green!30} 18/$x_8=2$ & \cellcolor{orange!30} 18/$x_9=5-0$ \\
8 & \cellcolor{red!30} 16/$x_5=0$ & \cellcolor{orange!30} 16/$x_6=4-0$ & \cellcolor{red!30} 16/$x_7=0$ & \cellcolor{green!30} 20/$x_8=2$ & \cellcolor{orange!30} 20/$x_9=5-0$ \\
9 & \cellcolor{red!30} 18/$x_5=0$ & \cellcolor{orange!30} 18/$x_6=4-0$ & \cellcolor{red!30} 18/$x_7=0$ & \cellcolor{green!30} 22/$x_8=2$ & \cellcolor{orange!30} 22/$x_9=5-0$ \\
10 & \cellcolor{red!30} 20/$x_5=0$ & \cellcolor{orange!30} 20/$x_6=5-0$ & \cellcolor{red!30} 20/$x_7=0$ & \cellcolor{green!30} 24/$x_8=2$ & \cellcolor{orange!30} 24/$x_9=5-0$ \\
11 & \cellcolor{red!30} 22/$x_5=0$ & \cellcolor{orange!30} 22/$x_6=5-0$ & \cellcolor{red!30} 22/$x_7=0$ & \cellcolor{green!30} 26/$x_8=2$ & \cellcolor{orange!30} 26/$x_9=5-0$ \\
12 & \cellcolor{red!30} 24/$x_5=0$ & \cellcolor{orange!30} 24/$x_6=5-0$ & \cellcolor{red!30} 24/$x_7=0$ & \cellcolor{green!30} 28/$x_8=2$ & \cellcolor{orange!30} 28/$x_9=5-0$ \\
13 & \cellcolor{red!30} 26/$x_5=0$ & \cellcolor{orange!30} 26/$x_6=5-0$ & \cellcolor{red!30} 26/$x_7=0$ & \cellcolor{green!30} 30/$x_8=2$ & \cellcolor{orange!30} 30/$x_9=5-0$ \\
14 & \cellcolor{red!30} 28/$x_5=0$ & \cellcolor{orange!30} 28/$x_6=5-0$ & \cellcolor{red!30} 28/$x_7=0$ & \cellcolor{green!30} 32/$x_8=2$ & \cellcolor{orange!30} 32/$x_9=5-0$ \\
15 & \cellcolor{red!30} 30/$x_5=0$ & \cellcolor{orange!30} 30/$x_6=5-0$ & \cellcolor{red!30} 30/$x_7=0$ & \cellcolor{green!30} 34/$x_8=2$ & \cellcolor{orange!30} 34/$x_9=5-0$ \\
16 & \cellcolor{red!30} 32/$x_5=0$ & \cellcolor{orange!30} 32/$x_6=5-0$ & \cellcolor{red!30} 32/$x_7=0$ & \cellcolor{green!30} 36/$x_8=2$ & \cellcolor{orange!30} 36/$x_9=5-0$ \\
17 & \cellcolor{red!30} 34/$x_5=0$ & \cellcolor{orange!30} 34/$x_6=5-0$ & \cellcolor{red!30} 34/$x_7=0$ & \cellcolor{green!30} 38/$x_8=2$ & \cellcolor{orange!30} 38/$x_9=5-0$ \\
18 & \cellcolor{red!30} 36/$x_5=0$ & \cellcolor{orange!30} 36/$x_6=5-0$ & \cellcolor{red!30} 36/$x_7=0$ & \cellcolor{green!30} 40/$x_8=2$ & \cellcolor{orange!30} 40/$x_9=5-0$ \\
19 & \cellcolor{red!30} 38/$x_5=0$ & \cellcolor{orange!30} 38/$x_6=5-0$ & \cellcolor{red!30} 38/$x_7=0$ & \cellcolor{green!30} 42/$x_8=2$ & \cellcolor{orange!30} 42/$x_9=5-0$ \\
20 & \cellcolor{red!30} 40/$x_5=0$ & \cellcolor{orange!30} 40/$x_6=5-0$ & \cellcolor{red!30} 40/$x_7=0$ & \cellcolor{green!30} 44/$x_8=2$ & \cellcolor{orange!30} 44/$x_9=5-0$ \\
\hline
\end{longtable}
\newpage
\section*{Table}
\begin{longtable}{|c|c|}
\hline
&Banano\\
\hline
0 & \cellcolor{red!30} 0/$x_10=0$ \\
1 & \cellcolor{red!30} 4/$x_10=0$ \\
2 & \cellcolor{red!30} 8/$x_10=0$ \\
3 & \cellcolor{green!30} 11/$x_10=1$ \\
4 & \cellcolor{green!30} 14/$x_10=2$ \\
5 & \cellcolor{green!30} 17/$x_10=3$ \\
6 & \cellcolor{green!30} 19/$x_10=3$ \\
7 & \cellcolor{green!30} 21/$x_10=3$ \\
8 & \cellcolor{green!30} 23/$x_10=3$ \\
9 & \cellcolor{green!30} 25/$x_10=3$ \\
10 & \cellcolor{green!30} 27/$x_10=3$ \\
11 & \cellcolor{green!30} 29/$x_10=3$ \\
12 & \cellcolor{green!30} 31/$x_10=3$ \\
13 & \cellcolor{green!30} 33/$x_10=3$ \\
14 & \cellcolor{green!30} 35/$x_10=3$ \\
15 & \cellcolor{green!30} 37/$x_10=3$ \\
16 & \cellcolor{green!30} 39/$x_10=3$ \\
17 & \cellcolor{green!30} 41/$x_10=3$ \\
18 & \cellcolor{green!30} 43/$x_10=3$ \\
19 & \cellcolor{green!30} 45/$x_10=3$ \\
20 & \cellcolor{green!30} 47/$x_10=3$ \\
\hline
\end{longtable}
\newpage\section*{Optimal Solution}
\begin{large}
Z = 47\\
$x_11$ = 3\\
$x_10$ = 0\\
$x_9$ = 2\\
$x_8$ = 0\\
$x_7$ = 0\\
$x_6$ = 0\\
$x_5$ = 0\\
$x_4$ = 0\\
$x_3$ = 0\\
$x_2$ = 9\\
$x_1$ = 3\\
\end{large}
\newpage\section*{Optimal Solution}
\begin{large}
Z = 47\\
$x_11$ = 3\\
$x_10$ = 0\\
$x_9$ = 2\\
$x_8$ = 0\\
$x_7$ = 5\\
$x_6$ = 0\\
$x_5$ = 0\\
$x_4$ = 0\\
$x_3$ = 0\\
$x_2$ = 5\\
$x_1$ = 0\\
\end{large}
\newpage\section*{Optimal Solution}
\begin{large}
Z = 47\\
$x_11$ = 3\\
$x_10$ = 5\\
$x_9$ = 2\\
$x_8$ = 0\\
$x_7$ = 0\\
$x_6$ = 0\\
$x_5$ = 0\\
$x_4$ = 0\\
$x_3$ = 0\\
$x_2$ = 0\\
$x_1$ = 5\\
\end{large}
\newpage\section*{Optimal Solution}
\begin{large}
Z = 47\\
$x_11$ = 3\\
$x_10$ = 5\\
$x_9$ = 2\\
$x_8$ = 0\\
$x_7$ = 0\\
$x_6$ = 0\\
$x_5$ = 0\\
$x_4$ = 0\\
$x_3$ = 0\\
$x_2$ = 10\\
$x_1$ = 0\\
\end{large}
\newpage\section*{Optimal Solution}
\begin{large}
Z = 47\\
$x_11$ = 3\\
$x_10$ = 5\\
$x_9$ = 2\\
$x_8$ = 0\\
$x_7$ = 5\\
$x_6$ = 0\\
$x_5$ = 0\\
$x_4$ = 0\\
$x_3$ = 0\\
$x_2$ = 0\\
$x_1$ = 0\\
\end{large}
\end{document}